Events:
1. gui - hotove
2. doriesit start/pause/stop eventu
   -- malo by to fungovat takto:
      - pre jednorazove eventy (maju len zaciatok) 
        - aktivovat - status running
        - hned pauznut - status pause 
      - pre rozsahove eventy (maju aj koniec)
        - aktivovat na zaciatok eventu - status running
        - pauznut na konci eventu - status pause
        - aktivovat po pause pred evenetom aktivny profil - cize si to musi pamatat, ktory 
          profil bol aktivny pred aktivaciou eventu priradeneho profilu
        - z dovodu, ze sa rozsahove eventy mozu prekryvat, bude pamatanie profilov, ktore
          sa po ukonceni eventu maju aktivovat, zaistene tzv. profileStack.
       - profileStack bude fungovat takto:
         - na start eventu, prave aktivny profil sa vlozi na koniec profileStack 
         - na pause/stop eventu, sa vyberie z konca profileStack profil a ten sa aktivuje 
           a profil sa vyhodi zo profileStack
         - toto riesi eventy ktore su v sebe vnorene, neprekrizuju sa
         - prekrizene eventy, teda, ze zacne jeden, potom druhy, potom prvy skonci a potom druhy
           skonci vyriesit tak, ze ak je na konci profileStack profil, ktory aktivuje pauzovany
           event, ignorovat profil zo profileStack (neaktivovat ho), len ho z neho vyhodit
   - spustenie eventu:
     - vlozit prave aktivovany profil do profileStack - hotovo
     - nastavit status eventu na running - hotovo
     - aktivovat profil priradeny eventu - TODO
   - pause:
     - vybrat z konca profileStack profil - hotovo
     - zistit, ci to nie je profil, ktory event aktivuje - hotovo
       - nie je to on - aktivovat profil z profileStack - TODO
       - je to on - neaktivovat profil z profileStack - hotovo
     - vyhodit profil z konca profileStack - hotovo
     - nastavit status eventu na pause - hotovo
   - stop:
     - spravit pause eventu, ake je v statuse running - hotovo
     - nastavit status eventu na stop - hotovo     
3. manualna aktivacia profilu (Aktivator, Editor, witget, shortcut, ...)
   - manualna aktivacia musi poslat service, co sa aktivovalo a odkial, cize to musi poslat
     BackgroundActivateProfileActivity - hotovo
   - manualna aktivacia musi pauznut vsetky eventy v statuse running, ale nesmu sa aktivovat
     profily z profileStack - hotovo
4. uprava eventu v Editore
   - ak upravovany event je v statuse running, musi sa pauznut, akoby prave skoncil, to zaisti
     jeho znovuspustenie az na dalsiu iteraciu - hotovo
   - aktivovat profil z profileStack po pauznuti - TODO 
   - ak upravovany event uzivatel zakaze, event sa musi stopnut - hotovo
5. mazanie eventu
   - vymazanie eventu uzivatelom musi vyvolat jeho stopnutie a az potom sa moze vymazat - hotovo
6. mazanie vsetkych eventov
   - vsetky eventy sa stopnu - hotovo
7. uprava profilu asociovaneho z dakym beziacim eventom
   - tu netreba robit nic, profil je uz aktivovany, takze jeho parametre sa pouziju az pri
     nasledujucej iteracii
8. mazanie profilu asocionvaneho z dakym beziacim eventom
   - stopnut event, nie je mozne, aby bezal v dalsej iteracii, lebo nema prideleny profil - hotovo
9. mazanie vsetkych profilov
   - vid mazanie vsetkych eventov, cize stopnut - hotovo
10. import dat
   - vid mazanie vsetkych eventov, cize stopnut - hotovo
   - znovunacitanie vsetkcyh dat - hotovo
   - service si eventy sam pospusta  - TODO
11. profileStack - VYHODIT, NAHRADIT TIMELINE EVENTOV
   - na spustenie service sa naloaduje z db - hotovo
   - kazda zmena v profileStack sa hned zapise do db - hotovo
12. start service
   - pri spustani sa najprv testne, ci event je v running a uz sa nema spustit, taky sa da do
     statusu PAUSE - TODO
   - nasledne sa eventy pospustaju, ide o eventy, ktorych system event sa vytriggeruje pri
     spusteni service (napr. ak Time event zrovna sadne do casu spustenie service) - TODO



-- vnorene
P1a |               -> timeline:
P1a | E1s, P2s, P1e -> timeline: E1
P2a | E2s, P3s, P2e -> timeline: E1, E2
P3a | E3s, P4s, P3e -> timeline: E1, E2, E3
P4a |               -> timeline: E1, E2, E3
P4a |*E3e, P4s, P3e -> timeline: E1, E2, E3 - ak som na konci, vyhodim sa
P4a |*              -> timeline: E1, E2     - a potom ak PXa nie je moj PXe, aktivujem moj PXe
P3a |               -> timeline: E1, E2
P3a |*E2e, P3s, P2e -> timeline: E1         - ak som na konci, vyhodim sa
P3a |*              -> timeline: E1         - a potom ak PXa nie je moj PXe, aktivujem moj PXe
P2a |               -> timeline: E1
P2a |*E1s, P2s, P1e -> timeline: E1         - ak som na konci, vyhodim sa
P2a |               -> timeline:            - a potom ak PXa nie je moj PXe, aktivujem moj PXe
P1a |               -> timeline:

-- prekrizene
P1a |               -> timeline:
P1a | E1s, P2s, P1e -> timeline: E1
P2a | E2s, P3s, P2e -> timeline: E1, E2
P3a | E3s, P4s, P3e -> timeline: E1, E2, E3
P4a |               -> timeline: E1, E2, E3
P4a |*E1e, P2s, P1e -> timeline: E1, E2, E3 - ak nie som na konci, vyhodim sa
P4a |*              -> timeline: E2, E3     - bol som na zaciatku, poposuvam profili u zostanych
P4a |*E2s, P3s, P1e -> timeline: E2, E3     - eventoch, pricom prvy dostane moj PXe, ostane 
P4a |*E3s, P4s, P2e -> timeline: E2, E3     - postupne PXe eventu nad nim
P4a |               -> timeline: E2, E3     
P4a |*E2e, P3s, P1e -> timeline: E2, E3     - ak nie som na konci, vyhodim sa
P4a |*              -> timeline: E3         - bol som na zaciatku, poposuvam profili u zostanych
P4a |*E3s, P4s, P1e -> timeline: E3         - eventoch pricom prvy dostane moj PXe, ostane ...
P4a |               -> timeline: E3     
P4a |*E3e, P4s, P1e -> timeline: E3         - ak som na konci, vyhodim sa
P4a |*              -> timeline:            - a potom ak PXa nie je moj PXe, aktivujem moj PXe
P1a |               -> timeline: 

-- prekrizene 2
P1a |               -> timeline:
P1a | E1s, P2s, P1e -> timeline: E1
P2a | E2s, P3s, P2e -> timeline: E1, E2
P3a | E3s, P4s, P3e -> timeline: E1, E2, E3
P4a |               -> timeline: E1, E2, E3
P4a |*E2s, P3s, P2e -> timeline: E1, E2, E3 - ak nie som na konci, vyhodim sa
P4a |*              -> timeline: E1, E3     - nebol som na zaciatku, neposuvam PXe
P4a |*E1s, P2s, P1e -> timeline: E1, E3
P4a |*E3s, P4s, P3e -> timeline: E1, E3
P4a |               -> timeline: E2, E3     
P4a |*E1e, P2s, P1e -> timeline: E1, E3     - ak nie som na konci, vyhodim sa
P4a |*              -> timeline: E3         - bol som na zaciatku, poposuvam profili u zostanych
P4a |*E3s, P4s, P1e -> timeline: E3         - eventoch pricom prvy dostane moj PXe, ostane ...
P4a |               -> timeline: E3     
P4a |*E3e, P4s, P1e -> timeline: E3         - ak som na konci, vyhodim sa
P4a |*              -> timeline:            - a potom ak PXa nie je moj PXe, aktivujem moj PXe
P1a |               -> timeline: 

Posvanie PXe profilov pri prekrizeni robit odkonca hore, pre aktualny event zobrat profil 
predchadzajuceho eventu, pre prvy event zobrat profil z odmazaneho eventu.

Cize su 3 situacie, ked pride pauzovaci system event:
1. event je zaciatku timeline:
   a) vyhodim event z timeline
   b) poposuvam PXe profily v eventoch od spodu smerom hore po timeline, prvy event v timeline
      dostene PXe z vyhodeneho eventu
2. event je v strede timeline:
   a) vyhodim event z timeline
3. event je na konci timeline
   a) vyhodim event z timeline
   b) aktivujem PXe vyhodeneho eventu, ak aktualne aktivovany event nie je rovny PXe vyhodeneho
      eventu 
PXs -> profil, ktory event aktivuje na start system event - field _fkProfile
PXe -> profil, ktory bol aktualne aktivovany pred staet system eventu - field _fkProfileReturn

Bacha na to, ze _fkProfileReturn moze byt null, co znamena, ze sa ma odaktivovat aktualne
aktivovany profil.

Dalej bahcha na to, ze event nemusi byt v timeline, v takom pripade na pause/stop nerobime vobec nic


Na pause a stop system event sa spravi to iste, co na pause, ale su pripady, kedy sa nema (de)aktivovat
_fkProfilePause event. Su to tieto pripady:
- manualna aktivacia profilu - eventy sa vsetky pauzuju, ale nic z timeline sa neaktivuje
- mazanie vsetkych eventov - vsetky sa stopnu, ale ziaden z timeline sa neaktivuje
- mazanie vsetkych profilov - vsetky eventy sa stopnu, ale ziaden z timeline sa neaktivuje
- import dat - vsetky eventy sa stopnu, ale ziaden z timeline sa neaktivuje, manualne sa aktivuje
  ten, co ma v importnutej db _checked = true
